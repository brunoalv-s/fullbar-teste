!function(e){e.fn.materialbox=function(){return this.each(function(){function t(){n=!1;var t=d.parent(".material-placeholder"),a=(window.innerWidth,window.innerHeight,d.data("width")),c=d.data("height");d.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e("#materialbox-overlay").velocity({opacity:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){o=!1,e(this).remove()}}),d.velocity({width:a,height:c,left:0,top:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){t.css({height:"",width:"",position:"",top:"",left:""}),d.removeAttr("style"),d.attr("style",s),d.removeClass("active"),n=!0,i&&i.css("overflow","")}}),e(".materialbox-caption").velocity({opacity:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){e(this).remove()}})}if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var i,a,o=!1,n=!0,l=200,d=e(this),c=e("<div></div>").addClass("material-placeholder"),s=d.attr("style");d.wrap(c),d.on("click",function(){var l=d.parent(".material-placeholder"),c=window.innerWidth,s=window.innerHeight,r=d.width(),u=d.height();if(n===!1)return t(),!1;if(o&&n===!0)return t(),!1;n=!1,d.addClass("active"),o=!0,l.css({width:l[0].getBoundingClientRect().width,height:l[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),i=void 0,a=l[0].parentNode;for(;null!==a&&!e(a).is(document);){var p=e(a);"visible"!==p.css("overflow")&&(p.css("overflow","visible"),i=void 0===i?p:i.add(p)),a=a.parentNode}d.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}).data("width",r).data("height",u);var h=e('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){n===!0&&t()});d.before(h);var f=h[0].getBoundingClientRect();if(h.css({width:c,height:s,left:-1*f.left,top:-1*f.top}),h.velocity({opacity:1},{duration:275,queue:!1,easing:"easeOutQuad"}),""!==d.data("caption")){var v=e('<div class="materialbox-caption"></div>');v.text(d.data("caption")),e("body").append(v),v.css({display:"inline"}),v.velocity({opacity:1},{duration:275,queue:!1,easing:"easeOutQuad"})}var m=0,g=r/c,w=u/s,y=0,b=0;g>w?(m=u/r,y=.9*c,b=.9*c*m):(m=r/u,y=.9*s*m,b=.9*s),d.hasClass("responsive-img")?d.velocity({"max-width":y,width:r},{duration:0,queue:!1,complete:function(){d.css({left:0,top:0}).velocity({height:b,width:y,left:e(document).scrollLeft()+c/2-d.parent(".material-placeholder").offset().left-y/2,top:e(document).scrollTop()+s/2-d.parent(".material-placeholder").offset().top-b/2},{duration:275,queue:!1,easing:"easeOutQuad",complete:function(){n=!0}})}}):d.css("left",0).css("top",0).velocity({height:b,width:y,left:e(document).scrollLeft()+c/2-d.parent(".material-placeholder").offset().left-y/2,top:e(document).scrollTop()+s/2-d.parent(".material-placeholder").offset().top-b/2},{duration:275,queue:!1,easing:"easeOutQuad",complete:function(){n=!0}})}),e(window).scroll(function(){o&&t()}),e(document).keyup(function(e){27===e.keyCode&&n===!0&&o&&t()})}})},e(document).ready(function(){e(".materialboxed").materialbox()})}(jQuery);